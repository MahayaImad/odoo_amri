<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- ============================================ -->
        <!-- POSITIONS FISCALES ALGÉRIENNES             -->
        <!-- ============================================ -->

        <!-- Position fiscale pour exonération TVA -->
        <record id="fiscal_position_template_exoneration" model="account.fiscal.position.template">
            <field name="name">Exonération TVA (ANSEJ, ANDI, Export, etc.)</field>
            <field name="chart_template_id" ref="l10n_dz_base_pcg_chart_template"/>
            <field name="note">Position fiscale pour les ventes exonérées de TVA selon la réglementation algérienne</field>
        </record>

        <!-- Position fiscale pour fournisseurs étrangers -->
        <record id="fiscal_position_template_fournisseur_etranger" model="account.fiscal.position.template">
            <field name="name">Fournisseurs étrangers</field>
            <field name="chart_template_id" ref="l10n_dz_base_pcg_chart_template"/>
            <field name="note">Position fiscale pour les achats auprès de fournisseurs étrangers</field>
        </record>

        <!-- Position fiscale pour exports -->
        <record id="fiscal_position_template_export" model="account.fiscal.position.template">
            <field name="name">Exports (TVA 0%)</field>
            <field name="chart_template_id" ref="l10n_dz_base_pcg_chart_template"/>
            <field name="note">Position fiscale pour les exportations hors Algérie</field>
        </record>

        <!-- Position fiscale pour imports -->
        <record id="fiscal_position_template_import" model="account.fiscal.position.template">
            <field name="name">Imports (TVA 0%)</field>
            <field name="chart_template_id" ref="l10n_dz_base_pcg_chart_template"/>
            <field name="note">Position fiscale pour les importations</field>
        </record>

        <!-- ============================================ -->
        <!-- MAPPING DES TAXES - EXONÉRATION            -->
        <!-- ============================================ -->

        <!-- TVA 19% vente → TVA 0% pour exonération -->
        <record id="fp_tax_template_exo_vente_19" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_exoneration"/>
            <field name="tax_src_id" ref="tva_vente_19"/>
            <field name="tax_dest_id" ref="tva_0_exemption"/>
        </record>

        <!-- TVA 19% vente TTC → TVA 0% pour exonération -->
        <record id="fp_tax_template_exo_vente_19_ttc" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_exoneration"/>
            <field name="tax_src_id" ref="tva_vente_19_ttc"/>
            <field name="tax_dest_id" ref="tva_0_exemption"/>
        </record>

        <!-- TVA 9% vente → TVA 0% pour exonération -->
        <record id="fp_tax_template_exo_vente_9" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_exoneration"/>
            <field name="tax_src_id" ref="tva_vente_9"/>
            <field name="tax_dest_id" ref="tva_0_exemption"/>
        </record>

        <!-- TVA 9% vente TTC → TVA 0% pour exonération -->
        <record id="fp_tax_template_exo_vente_9_ttc" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_exoneration"/>
            <field name="tax_src_id" ref="tva_vente_9_ttc"/>
            <field name="tax_dest_id" ref="tva_0_exemption"/>
        </record>

        <!-- ============================================ -->
        <!-- MAPPING DES TAXES - EXPORT                 -->
        <!-- ============================================ -->

        <!-- TVA 19% vente → TVA 0% export -->
        <record id="fp_tax_template_export_vente_19" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_export"/>
            <field name="tax_src_id" ref="tva_vente_19"/>
            <field name="tax_dest_id" ref="tva_0_export"/>
        </record>

        <!-- TVA 9% vente → TVA 0% export -->
        <record id="fp_tax_template_export_vente_9" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_export"/>
            <field name="tax_src_id" ref="tva_vente_9"/>
            <field name="tax_dest_id" ref="tva_0_export"/>
        </record>

        <!-- ============================================ -->
        <!-- MAPPING DES TAXES - FOURNISSEUR ÉTRANGER   -->
        <!-- ============================================ -->

        <!-- TVA 19% achat → TVA 0% import -->
        <record id="fp_tax_template_etranger_achat_19" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_fournisseur_etranger"/>
            <field name="tax_src_id" ref="tva_achat_19"/>
            <field name="tax_dest_id" ref="tva_0_import"/>
        </record>

        <!-- TVA 9% achat → TVA 0% import -->
        <record id="fp_tax_template_etranger_achat_9" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_fournisseur_etranger"/>
            <field name="tax_src_id" ref="tva_achat_9"/>
            <field name="tax_dest_id" ref="tva_0_import"/>
        </record>

        <!-- ============================================ -->
        <!-- MAPPING DES TAXES - IMPORT                 -->
        <!-- ============================================ -->

        <!-- TVA 19% achat → TVA 0% import -->
        <record id="fp_tax_template_import_achat_19" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_import"/>
            <field name="tax_src_id" ref="tva_achat_19"/>
            <field name="tax_dest_id" ref="tva_0_import"/>
        </record>

        <!-- TVA 9% achat → TVA 0% import -->
        <record id="fp_tax_template_import_achat_9" model="account.fiscal.position.tax.template">
            <field name="position_id" ref="fiscal_position_template_import"/>
            <field name="tax_src_id" ref="tva_achat_9"/>
            <field name="tax_dest_id" ref="tva_0_import"/>
        </record>

    </data>
</odoo>